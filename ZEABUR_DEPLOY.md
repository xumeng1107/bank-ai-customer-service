# Zeabur部署指南

## 概述

Zeabur是一个专为开发者设计的云部署平台，提供了简单易用的一键部署功能，支持多种编程语言和框架。本文档将指导您如何在Zeabur平台上部署银行AI客服系统。

## 部署前准备

在开始部署前，请确保：

1. 您已经注册了一个Zeabur账户。您可以在[官网](https://zeabur.com)上注册。
2. 您的项目代码已经提交到GitHub仓库（我们已经完成了这一步）。
3. 您已经获取了DashScope API密钥（用于通义千问大模型集成）。

## 部署步骤

### 1. 创建新的部署项目

1. 登录[Zeabur控制台](https://zeabur.com)。
2. 点击"创建新项目"按钮。
3. 选择"从GitHub部署"选项。

### 2. 连接GitHub仓库

1. 如果这是您第一次使用Zeabur部署GitHub项目，需要授权Zeabur访问您的GitHub账户。
2. 选择包含银行AI客服系统代码的仓库：`xumeng1107/bank-ai-customer-service`。
3. 点击"选择"按钮继续。

### 3. 配置部署设置

1. 在"环境配置"部分，必须设置以下环境变量：
   - `DASHSCOPE_API_KEY`：您的DashScope API密钥（必须设置，没有默认值）
   - `FRONTEND_URL`：前端应用访问URL（如果需要CORS配置）
   - `DATABASE_PATH`：数据库路径（可选，默认使用SQLite）

2. 在"资源限制"部分，配置适合的资源规格。

### 4. 部署

1. 确认所有配置正确后，点击"部署"按钮。
2. Zeabur将开始构建和部署您的应用程序。
3. 部署完成后，您将获得一个访问URL。

### 5. 验证部署

1. 打开生成的访问URL，验证应用程序是否正常运行。
2. 尝试登录并测试各项功能，确保它们正常工作。

## 注意事项

1. **API密钥安全**：确保不要将API密钥直接写入代码中，而应使用环境变量。
2. **数据库存储**：默认情况下，项目使用SQLite数据库。在Zeabur环境中，数据库文件将存储在临时存储中，服务器重启后数据会丢失。如果需要持久化存储，建议考虑升级到支持持久化存储的方案。
3. **域名配置**：部署完成后，您可能需要配置自定义域名或SSL证书以提高安全性。
4. **监控和日志**：使用Zeabur提供的监控和日志功能来跟踪应用程序的状态和性能。

## 常见问题与解答

### 问题：部署后出现"500内部服务器错误"

**解决方案**：这通常是由于环境变量未正确设置或依赖项缺失导致的。请检查：
1. DashScope API密钥是否正确设置
2. 所有必需的依赖项是否已在`zeabur.json`中列出

### 问题：前端无法连接到后端API

**解决方案**：这可能是由于CORS配置问题导致的。请检查：
1. 后端的CORS设置是否允许前端域名的访问
2. 前端的API_URL设置是否正确指向后端地址

### 问题：数据库数据丢失

**解决方案**：如前所述，默认的SQLite数据库在服务器重启后会丢失数据。如果需要持久化存储，可以考虑：
1. 使用Zeabur提供的持久化存储服务
2. 切换到支持持久化存储的数据库，如PostgreSQL

## 总结

通过遵循本指南，您应该能够在Zeabur平台上成功部署银行AI客服系统。如果您遇到其他问题，可以参考[Zeabur官方文档](https://zeabur.com/docs)或联系支持团队。